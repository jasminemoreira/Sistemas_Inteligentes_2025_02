<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistemas Inteligentes - Aula 07/10</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', system-ui, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: #1a1a1a;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(30, 60, 114, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .badge {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 20px;
        }

        .title {
            font-size: 2.8rem;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
        }

        .section {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #1e3c72;
        }

        .section h2 {
            color: #1e3c72;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section p {
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(30, 60, 114, 0.2);
            transition: transform 0.3s ease;
        }

        .card:hover { transform: translateY(-3px); }

        .card h3 {
            color: #1e3c72;
            font-size: 1.3rem;
            margin-bottom: 12px;
        }

        .highlight-box {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin: 25px 0;
        }

        .highlight-box h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .code-block {
            background: #1e1e1e;
            color: #e8e8e8;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #1e3c72;
        }

        .code-header {
            background: #2d2d2d;
            color: #fff;
            padding: 8px 16px;
            margin: -20px -20px 12px -20px;
            border-radius: 12px 12px 0 0;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .copy-btn {
            background: #1e3c72;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .copy-btn:hover {
            background: #2a5298;
            transform: translateY(-1px);
        }

        .copy-btn:active {
            transform: translateY(0);
        }

        .copy-btn.copied {
            background: #28a745;
        }

        .step-indicator {
            background: #1e3c72;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
        }

        .checkpoint-box {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 25px 0;
        }

        .checkpoint-box h3 {
            color: white;
            margin-bottom: 12px;
        }

        .tool-info {
            background: rgba(30, 60, 114, 0.1);
            border: 2px solid rgba(30, 60, 114, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .tool-info h4 {
            color: #1e3c72;
            margin-bottom: 10px;
        }

        .concept-box {
            background: rgba(42, 82, 152, 0.1);
            border: 2px solid rgba(42, 82, 152, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .concept-box h4 {
            color: #2a5298;
            margin-bottom: 10px;
        }

        .syntax-keyword { color: #569cd6; }
        .syntax-string { color: #ce9178; }
        .syntax-comment { color: #6a9955; }
        .syntax-number { color: #b5cea8; }
        .syntax-function { color: #dcdcaa; }

        .success-box {
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid rgba(40, 167, 69, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #28a745;
        }

        .warning-box {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid rgba(255, 193, 7, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #ffc107;
        }

        .exercise-box {
            background: rgba(156, 39, 176, 0.1);
            border: 2px solid rgba(156, 39, 176, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .exercise-box h4 {
            color: #9c27b0;
            margin-bottom: 10px;
        }

        .methodology-box {
            background: rgba(0, 123, 255, 0.1);
            border: 2px solid rgba(0, 123, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .methodology-box h4 {
            color: #007bff;
            margin-bottom: 10px;
        }

        .phase-box {
            background: rgba(32, 201, 151, 0.1);
            border: 2px solid rgba(32, 201, 151, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #20c997;
        }

        .colab-link {
            background: #F9AB00;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            margin: 10px 0;
            font-weight: 600;
        }

        .colab-link:hover {
            background: #e69500;
        }

        .ai-framework {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 25px 0;
        }

        .ai-framework h3 {
            color: white;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .container { padding: 20px; margin: 10px; }
            .title { font-size: 2.2rem; }
            .grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="badge">Aula 07/10 - Unidade IV</div>
            <h1 class="title">Desenvolvimento de Sistemas de IA</h1>
            <p class="subtitle">Criação e Implementação de Sistemas de IA para Tarefas Específicas</p>
        </div>

        <div class="highlight-box">
            <h3>Unidade IV: Da Concepção à Implementação</h3>
            <p>Nesta aula vamos aprender a metodologia completa para desenvolver sistemas de inteligência artificial desde a identificação do problema até a implementação e monitoramento em produção. Trabalharemos com frameworks modernos e boas práticas da indústria para criar soluções de IA robustas e escaláveis.</p>
        </div>

        <div class="section">
            <h2>Objetivos da Aula</h2>
            
            <div class="concept-box">
                <h4>Competências a Desenvolver</h4>
                <p>Ao final desta aula, você será capaz de planejar, desenvolver e implementar sistemas de IA completos para resolver problemas específicos. Compreenderá as etapas essenciais do desenvolvimento, desde a análise de requisitos até o deploy e monitoramento de modelos em produção.</p>
            </div>

            <div class="grid">
                <div class="card">
                    <h3>Metodologia de Desenvolvimento</h3>
                    <p>Aprender o processo estruturado CRISP-DM adaptado para IA: compreensão do negócio, entendimento dos dados, preparação, modelagem, avaliação e deployment.</p>
                </div>

                <div class="card">
                    <h3>Escolha de Técnicas</h3>
                    <p>Critérios para selecionar algoritmos e abordagens adequadas para cada tipo de problema: classificação, regressão, clustering, processamento de linguagem natural.</p>
                </div>

                <div class="card">
                    <h3>Implementação Prática</h3>
                    <p>Desenvolvimento hands-on de um sistema completo usando ferramentas modernas como scikit-learn, TensorFlow/PyTorch e frameworks de deployment.</p>
                </div>

                <div class="card">
                    <h3>MLOps e Produção</h3>
                    <p>Boas práticas para colocar modelos de IA em produção: versionamento, monitoramento, retreinamento e manutenção de sistemas de ML.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">1</span>Metodologia CRISP-DM para IA</h2>
            <p>O CRISP-DM (Cross-Industry Standard Process for Data Mining) é a metodologia padrão da indústria para projetos de ciência de dados e IA.</p>

            <div class="methodology-box">
                <h4>As 6 Fases do CRISP-DM</h4>
                <p><strong>1. Business Understanding:</strong> Definir objetivos de negócio e critérios de sucesso<br>
                <strong>2. Data Understanding:</strong> Coletar, explorar e avaliar qualidade dos dados<br>
                <strong>3. Data Preparation:</strong> Limpar, transformar e preparar dados para modelagem<br>
                <strong>4. Modeling:</strong> Selecionar e aplicar técnicas de machine learning<br>
                <strong>5. Evaluation:</strong> Avaliar modelo contra objetivos de negócio<br>
                <strong>6. Deployment:</strong> Colocar modelo em produção e planejar monitoramento</p>
            </div>

            <div class="grid">
                <div class="phase-box">
                    <h4>Fase 1: Compreensão do Negócio</h4>
                    <p><strong>Entregáveis:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Definição clara do problema de IA</li>
                        <li>Métricas de sucesso quantificáveis</li>
                        <li>Análise de viabilidade técnica</li>
                        <li>Cronograma e recursos necessários</li>
                    </ul>
                </div>

                <div class="phase-box">
                    <h4>Fase 2: Compreensão dos Dados</h4>
                    <p><strong>Entregáveis:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Inventário completo de fontes de dados</li>
                        <li>Relatório de qualidade dos dados</li>
                        <li>Análise exploratória inicial</li>
                        <li>Identificação de gaps e limitações</li>
                    </ul>
                </div>
            </div>

            <div class="tool-info">
                <h4>Ferramentas para Cada Fase</h4>
                <p><strong>Business Understanding:</strong> Canvas de problema, OKRs, análise de stakeholders<br>
                <strong>Data Understanding:</strong> Pandas, Jupyter, Tableau, Power BI<br>
                <strong>Data Preparation:</strong> Pandas, Dask, Apache Spark, Pipeline scikit-learn<br>
                <strong>Modeling:</strong> Scikit-learn, TensorFlow, PyTorch, XGBoost<br>
                <strong>Evaluation:</strong> MLflow, Weights & Biases, TensorBoard<br>
                <strong>Deployment:</strong> Docker, Kubernetes, AWS SageMaker, Azure ML</p>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">2</span>Definição e Análise do Problema</h2>
            <p>O primeiro passo crítico é formular corretamente o problema de IA e definir critérios claros de sucesso.</p>

            <div class="concept-box">
                <h4>Framework para Definição de Problemas de IA</h4>
                <p>Nem todo problema precisa de IA. É essencial avaliar se IA é a melhor solução, quais dados estão disponíveis, quais são as restrições e como medir o sucesso.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>Template de Definição de Problema</span>
                    <button class="copy-btn" onclick="copyCode('code1')" id="btn1">Copiar</button>
                </div>
<pre><code id="code1"><span class="syntax-comment"># Problema: Sistema de Predição de Falhas em Equipamentos</span>

<span class="syntax-comment">## 1. DEFINIÇÃO DO PROBLEMA</span>
problema = {
    <span class="syntax-string">"objetivo"</span>: <span class="syntax-string">"Prever falhas em equipamentos com 72h de antecedência"</span>,
    <span class="syntax-string">"tipo_problema"</span>: <span class="syntax-string">"Classificação binária (falha/não falha)"</span>,
    <span class="syntax-string">"stakeholders"</span>: [<span class="syntax-string">"Manutenção"</span>, <span class="syntax-string">"Produção"</span>, <span class="syntax-string">"Gerência"</span>],
    <span class="syntax-string">"impacto_atual"</span>: <span class="syntax-string">"Paradas não planejadas custam R$ 50k/dia"</span>,
    <span class="syntax-string">"valor_esperado"</span>: <span class="syntax-string">"Redução de 60% em paradas não planejadas"</span>
}

<span class="syntax-comment">## 2. MÉTRICAS DE SUCESSO</span>
metricas = {
    <span class="syntax-string">"tecnicas"</span>: {
        <span class="syntax-string">"precisao"</span>: <span class="syntax-string">"≥ 85% (evitar falsos positivos)"</span>,
        <span class="syntax-string">"recall"</span>: <span class="syntax-string">"≥ 90% (capturar falhas reais)"</span>,
        <span class="syntax-string">"f1_score"</span>: <span class="syntax-string">"≥ 87%"</span>,
        <span class="syntax-string">"tempo_resposta"</span>: <span class="syntax-string">"< 5 segundos"</span>
    },
    <span class="syntax-string">"negocio"</span>: {
        <span class="syntax-string">"reducao_paradas"</span>: <span class="syntax-string">"60% em 6 meses"</span>,
        <span class="syntax-string">"roi"</span>: <span class="syntax-string">"200% em 12 meses"</span>,
        <span class="syntax-string">"disponibilidade"</span>: <span class="syntax-string">"99.5% uptime do sistema"</span>
    }
}

<span class="syntax-comment">## 3. AVALIAÇÃO DE VIABILIDADE</span>
viabilidade = {
    <span class="syntax-string">"dados_disponiveis"</span>: <span class="syntax-string">"Sensores IoT, logs de manutenção (2 anos)"</span>,
    <span class="syntax-string">"qualidade_dados"</span>: <span class="syntax-string">"Boa (95% completos)"</span>,
    <span class="syntax-string">"recursos_tecnicos"</span>: <span class="syntax-string">"Equipe de 3 pessoas, cloud AWS"</span>,
    <span class="syntax-string">"prazo"</span>: <span class="syntax-string">"4 meses para MVP"</span>,
    <span class="syntax-string">"restricoes"</span>: [<span class="syntax-string">"LGPD compliance"</span>, <span class="syntax-string">"Segurança industrial"</span>]
}

<span class="syntax-function">print</span>(<span class="syntax-string">"Problema de IA bem definido!"</span>)</code></pre>
            </div>

            <div class="exercise-box">
                <h4>Exercício 1: Definição de Problema</h4>
                <p>Escolha um problema real da sua área (produção, logística, qualidade, etc.) e use o template acima para defini-lo completamente. Considere:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>O problema realmente precisa de IA?</li>
                    <li>Que dados você tem disponíveis?</li>
                    <li>Como você vai medir o sucesso?</li>
                    <li>Quais são as restrições e limitações?</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">3</span>Seleção de Técnicas e Algoritmos</h2>
            <p>Diferentes problemas requerem diferentes abordagens de IA. Vamos aprender a escolher a técnica mais adequada.</p>

            <div class="ai-framework">
                <h3>Mapeamento Problema → Técnica de IA</h3>
                <p>A escolha da técnica correta é fundamental para o sucesso do projeto. Considere tipo de dados, tamanho do dataset, interpretabilidade e recursos computacionais.</p>
            </div>

            <div class="grid">
                <div class="card">
                    <h3>Classificação</h3>
                    <p><strong>Quando usar:</strong> Prever categorias (spam/não spam, aprovado/rejeitado)<br>
                    <strong>Algoritmos:</strong> Logistic Regression, Random Forest, SVM, Neural Networks<br>
                    <strong>Métricas:</strong> Accuracy, Precision, Recall, F1-Score, AUC-ROC</p>
                </div>

                <div class="card">
                    <h3>Regressão</h3>
                    <p><strong>Quando usar:</strong> Prever valores numéricos (preços, vendas, temperatura)<br>
                    <strong>Algoritmos:</strong> Linear Regression, Random Forest, XGBoost, Neural Networks<br>
                    <strong>Métricas:</strong> MAE, MSE, RMSE, R², MAPE</p>
                </div>

                <div class="card">
                    <h3>Clustering</h3>
                    <p><strong>Quando usar:</strong> Agrupar dados similares (segmentação de clientes)<br>
                    <strong>Algoritmos:</strong> K-Means, DBSCAN, Gaussian Mixture, Hierarchical<br>
                    <strong>Métricas:</strong> Silhouette Score, Calinski-Harabasz, Davies-Bouldin</p>
                </div>

                <div class="card">
                    <h3>Processamento de Linguagem</h3>
                    <p><strong>Quando usar:</strong> Analisar texto (sentimentos, classificação de documentos)<br>
                    <strong>Algoritmos:</strong> BERT, GPT, LSTM, Transformers<br>
                    <strong>Métricas:</strong> BLEU, ROUGE, Perplexity, F1 por classe</p>
                </div>
            </div>

            <div class="tool-info">
                <h4>Matriz de Decisão para Algoritmos</h4>
                <p><strong>Dataset pequeno (< 1k samples):</strong> Logistic Regression, SVM, Naive Bayes<br>
                <strong>Dataset médio (1k-100k):</strong> Random Forest, XGBoost, Neural Networks<br>
                <strong>Dataset grande (> 100k):</strong> Deep Learning, Ensemble Methods<br>
                <strong>Interpretabilidade alta:</strong> Linear Models, Decision Trees, Random Forest<br>
                <strong>Performance máxima:</strong> XGBoost, Deep Learning, Ensemble Methods</p>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">4</span>Implementação Prática: Sistema Completo</h2>
            <p>Vamos implementar um sistema completo de predição de falhas seguindo todas as etapas da metodologia.</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Sistema de Predição de Falhas - Setup</span>
                    <button class="copy-btn" onclick="copyCode('code2')" id="btn2">Copiar</button>
                </div>
<pre><code id="code2"><span class="syntax-comment"># Importações e configuração</span>
<span class="syntax-keyword">import</span> pandas <span class="syntax-keyword">as</span> pd
<span class="syntax-keyword">import</span> numpy <span class="syntax-keyword">as</span> np
<span class="syntax-keyword">import</span> matplotlib.pyplot <span class="syntax-keyword">as</span> plt
<span class="syntax-keyword">import</span> seaborn <span class="syntax-keyword">as</span> sns
<span class="syntax-keyword">from</span> datetime <span class="syntax-keyword">import</span> datetime, timedelta

<span class="syntax-comment"># Machine Learning</span>
<span class="syntax-keyword">from</span> sklearn.model_selection <span class="syntax-keyword">import</span> train_test_split, cross_val_score
<span class="syntax-keyword">from</span> sklearn.preprocessing <span class="syntax-keyword">import</span> StandardScaler, LabelEncoder
<span class="syntax-keyword">from</span> sklearn.ensemble <span class="syntax-keyword">import</span> RandomForestClassifier
<span class="syntax-keyword">from</span> sklearn.linear_model <span class="syntax-keyword">import</span> LogisticRegression
<span class="syntax-keyword">from</span> sklearn.svm <span class="syntax-keyword">import</span> SVC
<span class="syntax-keyword">from</span> sklearn.metrics <span class="syntax-keyword">import</span> classification_report, confusion_matrix, roc_auc_score

<span class="syntax-comment"># Pipelines e persistência</span>
<span class="syntax-keyword">from</span> sklearn.pipeline <span class="syntax-keyword">import</span> Pipeline
<span class="syntax-keyword">import</span> joblib
<span class="syntax-keyword">import</span> warnings
warnings.filterwarnings(<span class="syntax-string">'ignore'</span>)

<span class="syntax-function">print</span>(<span class="syntax-string">"Ambiente configurado para desenvolvimento de IA!"</span>)</code></pre>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>Geração de Dados Sintéticos de Sensores</span>
                    <button class="copy-btn" onclick="copyCode('code3')" id="btn3">Copiar</button>
                </div>
<pre><code id="code3"><span class="syntax-comment"># Simular dados de sensores IoT para predição de falhas</span>
np.random.seed(<span class="syntax-number">42</span>)

<span class="syntax-keyword">def</span> <span class="syntax-function">gerar_dados_sensores</span>(n_equipamentos=<span class="syntax-number">50</span>, dias=<span class="syntax-number">365</span>):
    dados = []
    
    <span class="syntax-keyword">for</span> equip_id <span class="syntax-keyword">in</span> range(<span class="syntax-number">1</span>, n_equipamentos + <span class="syntax-number">1</span>):
        <span class="syntax-comment"># Definir padrão de operação por equipamento</span>
        temp_normal = np.random.uniform(<span class="syntax-number">65</span>, <span class="syntax-number">75</span>)
        vibracao_normal = np.random.uniform(<span class="syntax-number">0.5</span>, <span class="syntax-number">1.5</span>)
        pressao_normal = np.random.uniform(<span class="syntax-number">8</span>, <span class="syntax-number">12</span>)
        
        <span class="syntax-keyword">for</span> dia <span class="syntax-keyword">in</span> range(dias):
            data = datetime.now() - timedelta(days=dias-dia)
            
            <span class="syntax-comment"># Simular degradação gradual antes da falha</span>
            falha_probabilidade = max(<span class="syntax-number">0</span>, (dia - <span class="syntax-number">300</span>) / <span class="syntax-number">65</span>) <span class="syntax-keyword">if</span> equip_id % <span class="syntax-number">10</span> == <span class="syntax-number">0</span> <span class="syntax-keyword">else</span> <span class="syntax-number">0.01</span>
            
            <span class="syntax-keyword">if</span> np.random.random() < falha_probabilidade:
                <span class="syntax-comment"># Condições anômalas antes da falha</span>
                temperatura = temp_normal + np.random.uniform(<span class="syntax-number">10</span>, <span class="syntax-number">25</span>)
                vibracao = vibracao_normal + np.random.uniform(<span class="syntax-number">2</span>, <span class="syntax-number">5</span>)
                pressao = pressao_normal + np.random.uniform(-<span class="syntax-number">3</span>, -<span class="syntax-number">1</span>)
                falha = <span class="syntax-number">1</span>
            <span class="syntax-keyword">else</span>:
                <span class="syntax-comment"># Condições normais com ruído</span>
                temperatura = temp_normal + np.random.normal(<span class="syntax-number">0</span>, <span class="syntax-number">3</span>)
                vibracao = vibracao_normal + np.random.normal(<span class="syntax-number">0</span>, <span class="syntax-number">0.3</span>)
                pressao = pressao_normal + np.random.normal(<span class="syntax-number">0</span>, <span class="syntax-number">1</span>)
                falha = <span class="syntax-number">0</span>
            
            <span class="syntax-comment"># Features derivadas</span>
            rpm = np.random.uniform(<span class="syntax-number">1500</span>, <span class="syntax-number">3000</span>)
            corrente = np.random.uniform(<span class="syntax-number">15</span>, <span class="syntax-number">25</span>) + (temperatura - temp_normal) * <span class="syntax-number">0.1</span>
            
            dados.append({
                <span class="syntax-string">'data'</span>: data,
                <span class="syntax-string">'equipamento_id'</span>: equip_id,
                <span class="syntax-string">'temperatura'</span>: temperatura,
                <span class="syntax-string">'vibracao'</span>: vibracao,
                <span class="syntax-string">'pressao'</span>: pressao,
                <span class="syntax-string">'rpm'</span>: rpm,
                <span class="syntax-string">'corrente'</span>: corrente,
                <span class="syntax-string">'horas_operacao'</span>: dia * <span class="syntax-number">8</span> + np.random.uniform(<span class="syntax-number">0</span>, <span class="syntax-number">8</span>),
                <span class="syntax-string">'manutencao_dias'</span>: (dia % <span class="syntax-number">30</span>) + <span class="syntax-number">1</span>,
                <span class="syntax-string">'falha'</span>: falha
            })
    
    <span class="syntax-keyword">return</span> pd.DataFrame(dados)

<span class="syntax-comment"># Gerar dataset</span>
df = gerar_dados_sensores()
<span class="syntax-function">print</span>(<span class="syntax-string">f"Dataset criado: {len(df)} registros"</span>)
<span class="syntax-function">print</span>(<span class="syntax-string">f"Taxa de falhas: {df['falha'].mean()*100:.1f}%"</span>)
df.head()</code></pre>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>Engenharia de Features e Preparação</span>
                    <button class="copy-btn" onclick="copyCode('code4')" id="btn4">Copiar</button>
                </div>
<pre><code id="code4"><span class="syntax-comment"># Feature Engineering</span>
<span class="syntax-keyword">def</span> <span class="syntax-function">criar_features</span>(df):
    df = df.copy()
    
    <span class="syntax-comment"># Features temporais</span>
    df[<span class="syntax-string">'dia_semana'</span>] = df[<span class="syntax-string">'data'</span>].dt.dayofweek
    df[<span class="syntax-string">'mes'</span>] = df[<span class="syntax-string">'data'</span>].dt.month
    
    <span class="syntax-comment"># Features de interação</span>
    df[<span class="syntax-string">'temp_vibracao_ratio'</span>] = df[<span class="syntax-string">'temperatura'</span>] / df[<span class="syntax-string">'vibracao'</span>]
    df[<span class="syntax-string">'pressao_temp_produto'</span>] = df[<span class="syntax-string">'pressao'</span>] * df[<span class="syntax-string">'temperatura'</span>]
    df[<span class="syntax-string">'corrente_por_rpm'</span>] = df[<span class="syntax-string">'corrente'</span>] / (df[<span class="syntax-string">'rpm'</span>] / <span class="syntax-number">1000</span>)
    
    <span class="syntax-comment"># Features de agregação por equipamento (rolling windows)</span>
    <span class="syntax-keyword">for</span> equip <span class="syntax-keyword">in</span> df[<span class="syntax-string">'equipamento_id'</span>].unique():
        mask = df[<span class="syntax-string">'equipamento_id'</span>] == equip
        df.loc[mask, <span class="syntax-string">'temp_media_7d'</span>] = df.loc[mask, <span class="syntax-string">'temperatura'</span>].rolling(<span class="syntax-number">7</span>).mean()
        df.loc[mask, <span class="syntax-string">'vibracao_std_7d'</span>] = df.loc[mask, <span class="syntax-string">'vibracao'</span>].rolling(<span class="syntax-number">7</span>).std()
        df.loc[mask, <span class="syntax-string">'temp_tendencia'</span>] = df.loc[mask, <span class="syntax-string">'temperatura'</span>].diff()
    
    <span class="syntax-comment"># Preencher NAs</span>
    df = df.fillna(method=<span class="syntax-string">'bfill'</span>)
    
    <span class="syntax-keyword">return</span> df

<span class="syntax-comment"># Aplicar feature engineering</span>
df_features = criar_features(df)

<span class="syntax-comment"># Selecionar features para o modelo</span>
feature_cols = [
    <span class="syntax-string">'temperatura'</span>, <span class="syntax-string">'vibracao'</span>, <span class="syntax-string">'pressao'</span>, <span class="syntax-string">'rpm'</span>, <span class="syntax-string">'corrente'</span>,
    <span class="syntax-string">'horas_operacao'</span>, <span class="syntax-string">'manutencao_dias'</span>, <span class="syntax-string">'dia_semana'</span>, <span class="syntax-string">'mes'</span>,
    <span class="syntax-string">'temp_vibracao_ratio'</span>, <span class="syntax-string">'pressao_temp_produto'</span>, <span class="syntax-string">'corrente_por_rpm'</span>,
    <span class="syntax-string">'temp_media_7d'</span>, <span class="syntax-string">'vibracao_std_7d'</span>, <span class="syntax-string">'temp_tendencia'</span>
]

X = df_features[feature_cols]
y = df_features[<span class="syntax-string">'falha'</span>]

<span class="syntax-function">print</span>(<span class="syntax-string">f"Features criadas: {len(feature_cols)}"</span>)
<span class="syntax-function">print</span>(<span class="syntax-string">f"Shape final: {X.shape}"</span>)</code></pre>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">5</span>Modelagem e Avaliação</h2>
            <p>Implementar e comparar diferentes algoritmos para escolher o melhor modelo.</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Pipeline de Modelagem Completo</span>
                    <button class="copy-btn" onclick="copyCode('code5')" id="btn5">Copiar</button>
                </div>
<pre><code id="code5"><span class="syntax-comment"># Dividir dados</span>
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=<span class="syntax-number">0.2</span>, random_state=<span class="syntax-number">42</span>, stratify=y
)

<span class="syntax-comment"># Definir modelos para comparação</span>
modelos = {
    <span class="syntax-string">'Logistic Regression'</span>: LogisticRegression(random_state=<span class="syntax-number">42</span>),
    <span class="syntax-string">'Random Forest'</span>: RandomForestClassifier(n_estimators=<span class="syntax-number">100</span>, random_state=<span class="syntax-number">42</span>),
    <span class="syntax-string">'SVM'</span>: SVC(probability=<span class="syntax-number">True</span>, random_state=<span class="syntax-number">42</span>)
}

<span class="syntax-comment"># Treinar e avaliar cada modelo</span>
resultados = {}

<span class="syntax-keyword">for</span> nome, modelo <span class="syntax-keyword">in</span> modelos.items():
    <span class="syntax-comment"># Pipeline com preprocessamento</span>
    pipeline = Pipeline([
        (<span class="syntax-string">'scaler'</span>, StandardScaler()),
        (<span class="syntax-string">'classifier'</span>, modelo)
    ])
    
    <span class="syntax-comment"># Cross-validation</span>
    cv_scores = cross_val_score(pipeline, X_train, y_train, cv=<span class="syntax-number">5</span>, scoring=<span class="syntax-string">'f1'</span>)
    
    <span class="syntax-comment"># Treinar no conjunto completo</span>
    pipeline.fit(X_train, y_train)
    
    <span class="syntax-comment"># Predições</span>
    y_pred = pipeline.predict(X_test)
    y_pred_proba = pipeline.predict_proba(X_test)[:, <span class="syntax-number">1</span>]
    
    <span class="syntax-comment"># Métricas</span>
    auc = roc_auc_score(y_test, y_pred_proba)
    
    resultados[nome] = {
        <span class="syntax-string">'cv_mean'</span>: cv_scores.mean(),
        <span class="syntax-string">'cv_std'</span>: cv_scores.std(),
        <span class="syntax-string">'auc'</span>: auc,
        <span class="syntax-string">'pipeline'</span>: pipeline
    }
    
    <span class="syntax-function">print</span>(<span class="syntax-string">f"\n{nome}:"</span>)
    <span class="syntax-function">print</span>(<span class="syntax-string">f"  CV F1: {cv_scores.mean():.3f} (+/- {cv_scores.std()*2:.3f})"</span>)
    <span class="syntax-function">print</span>(<span class="syntax-string">f"  Test AUC: {auc:.3f}"</span>)
    <span class="syntax-function">print</span>(classification_report(y_test, y_pred, target_names=[<span class="syntax-string">'Normal'</span>, <span class="syntax-string">'Falha'</span>]))

<span class="syntax-comment"># Selecionar melhor modelo</span>
melhor_modelo = max(resultados.keys(), key=<span class="syntax-keyword">lambda</span> k: resultados[k][<span class="syntax-string">'auc'</span>])
<span class="syntax-function">print</span>(<span class="syntax-string">f"\nMelhor modelo: {melhor_modelo}"</span>)</code></pre>
            </div>

            <div class="exercise-box">
                <h4>Exercício 2: Otimização de Hiperparâmetros</h4>
                <p>Use GridSearchCV ou RandomizedSearchCV para otimizar os hiperparâmetros do Random Forest. Teste diferentes valores para:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>n_estimators: [50, 100, 200]</li>
                    <li>max_depth: [10, 20, None]</li>
                    <li>min_samples_split: [2, 5, 10]</li>
                    <li>min_samples_leaf: [1, 2, 4]</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">6</span>Deployment e Monitoramento</h2>
            <p>Preparar o modelo para produção com monitoramento contínuo e capacidade de retreinamento.</p>

            <div class="ai-framework">
                <h3>MLOps: Machine Learning Operations</h3>
                <p>MLOps é a prática de aplicar DevOps ao ciclo de vida de machine learning, incluindo integração contínua, deployment automatizado e monitoramento de modelos em produção.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span>Sistema de Produção com Monitoramento</span>
                    <button class="copy-btn" onclick="copyCode('code6')" id="btn6">Copiar</button>
                </div>
<pre><code id="code6"><span class="syntax-comment"># Classe para sistema de predição em produção</span>
<span class="syntax-keyword">class</span> <span class="syntax-function">SistemaPredictorFalhas</span>:
    <span class="syntax-keyword">def</span> <span class="syntax-function">__init__</span>(self, modelo_path=<span class="syntax-number">None</span>):
        self.modelo = <span class="syntax-number">None</span>
        self.feature_cols = feature_cols
        self.logs_predicoes = []
        self.threshold_alerta = <span class="syntax-number">0.7</span>
        
        <span class="syntax-keyword">if</span> modelo_path:
            self.carregar_modelo(modelo_path)
    
    <span class="syntax-keyword">def</span> <span class="syntax-function">treinar</span>(self, X_train, y_train):
        <span class="syntax-string">"""Treinar o modelo"""</span>
        self.modelo = resultados[melhor_modelo][<span class="syntax-string">'pipeline'</span>]
        <span class="syntax-function">print</span>(<span class="syntax-string">"Modelo treinado com sucesso!"</span>)
    
    <span class="syntax-keyword">def</span> <span class="syntax-function">salvar_modelo</span>(self, path):
        <span class="syntax-string">"""Salvar modelo treinado"""</span>
        joblib.dump(self.modelo, path)
        <span class="syntax-function">print</span>(<span class="syntax-string">f"Modelo salvo em: {path}"</span>)
    
    <span class="syntax-keyword">def</span> <span class="syntax-function">carregar_modelo</span>(self, path):
        <span class="syntax-string">"""Carregar modelo salvo"""</span>
        self.modelo = joblib.load(path)
        <span class="syntax-function">print</span>(<span class="syntax-string">f"Modelo carregado de: {path}"</span>)
    
    <span class="syntax-keyword">def</span> <span class="syntax-function">prever</span>(self, dados_sensor):
        <span class="syntax-string">"""Fazer predição e log"""</span>
        <span class="syntax-keyword">if</span> self.modelo <span class="syntax-keyword">is</span> <span class="syntax-number">None</span>:
            <span class="syntax-keyword">raise</span> ValueError(<span class="syntax-string">"Modelo não carregado"</span>)
        
        <span class="syntax-comment"># Preparar dados</span>
        X = dados_sensor[self.feature_cols]
        
        <span class="syntax-comment"># Predição</span>
        probabilidade = self.modelo.predict_proba(X)[:, <span class="syntax-number">1</span>][<span class="syntax-number">0</span>]
        predicao = probabilidade > self.threshold_alerta
        
        <span class="syntax-comment"># Log da predição</span>
        log_entry = {
            <span class="syntax-string">'timestamp'</span>: datetime.now(),
            <span class="syntax-string">'equipamento_id'</span>: dados_sensor[<span class="syntax-string">'equipamento_id'</span>].values[<span class="syntax-number">0</span>],
            <span class="syntax-string">'probabilidade_falha'</span>: probabilidade,
            <span class="syntax-string">'alerta_falha'</span>: predicao,
            <span class="syntax-string">'temperatura'</span>: dados_sensor[<span class="syntax-string">'temperatura'</span>].values[<span class="syntax-number">0</span>],
            <span class="syntax-string">'vibracao'</span>: dados_sensor[<span class="syntax-string">'vibracao'</span>].values[<span class="syntax-number">0</span>]
        }
        
        self.logs_predicoes.append(log_entry)
        
        <span class="syntax-keyword">return</span> {
            <span class="syntax-string">'probabilidade_falha'</span>: probabilidade,
            <span class="syntax-string">'alerta'</span>: predicao,
            <span class="syntax-string">'recomendacao'</span>: self._gerar_recomendacao(probabilidade, dados_sensor)
        }
    
    <span class="syntax-keyword">def</span> <span class="syntax-function">_gerar_recomendacao</span>(self, probabilidade, dados):
        <span class="syntax-string">"""Gerar recomendação baseada na predição"""</span>
        <span class="syntax-keyword">if</span> probabilidade > <span class="syntax-number">0.9</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"CRÍTICO: Parar equipamento imediatamente para manutenção"</span>
        <span class="syntax-keyword">elif</span> probabilidade > <span class="syntax-number">0.7</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"ATENÇÃO: Agendar manutenção preventiva em 24h"</span>
        <span class="syntax-keyword">elif</span> probabilidade > <span class="syntax-number">0.5</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"MONITORAR: Aumentar frequência de monitoramento"</span>
        <span class="syntax-keyword">else</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"NORMAL: Operação dentro dos parâmetros"</span>
    
    <span class="syntax-keyword">def</span> <span class="syntax-function">monitorar_deriva</span>(self):
        <span class="syntax-string">"""Detectar data drift"""</span>
        <span class="syntax-keyword">if</span> len(self.logs_predicoes) < <span class="syntax-number">100</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"Dados insuficientes para análise de deriva"</span>
        
        <span class="syntax-comment"># Análise simples de deriva</span>
        recentes = self.logs_predicoes[-<span class="syntax-number">50</span>:]
        media_prob_recente = np.mean([log[<span class="syntax-string">'probabilidade_falha'</span>] <span class="syntax-keyword">for</span> log <span class="syntax-keyword">in</span> recentes])
        
        <span class="syntax-keyword">if</span> media_prob_recente > <span class="syntax-number">0.3</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"ALERTA: Possível deriva nos dados - considerar retreinamento"</span>
        <span class="syntax-keyword">else</span>:
            <span class="syntax-keyword">return</span> <span class="syntax-string">"Modelo estável"</span>

<span class="syntax-comment"># Inicializar sistema</span>
sistema = SistemaPredictorFalhas()
sistema.treinar(X_train, y_train)
sistema.salvar_modelo(<span class="syntax-string">'modelo_falhas_v1.pkl'</span>)

<span class="syntax-comment"># Testar predição</span>
amostra_teste = df_features.iloc[[<span class="syntax-number">100</span>]]
resultado = sistema.prever(amostra_teste)
<span class="syntax-function">print</span>(<span class="syntax-string">f"Resultado da predição: {resultado}"</span>)</code></pre>
            </div>

            <div class="success-box">
                <h4>Checklist de Produção</h4>
                <p><strong>Antes do Deploy:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>✓ Modelo validado com dados de teste</li>
                    <li>✓ Pipeline de preprocessamento testado</li>
                    <li>✓ Métricas de negócio definidas</li>
                    <li>✓ Sistema de logging implementado</li>
                    <li>✓ Monitoramento de performance configurado</li>
                    <li>✓ Plano de rollback definido</li>
                    <li>✓ Documentação completa</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2><span class="step-indicator">7</span>Dashboard de Monitoramento</h2>
            <p>Criar visualizações para monitorar o desempenho do modelo em produção.</p>

            <div class="code-block">
                <div class="code-header">
                    <span>Dashboard de Monitoramento</span>
                    <button class="copy-btn" onclick="copyCode('code7')" id="btn7">Copiar</button>
                </div>
<pre><code id="code7"><span class="syntax-keyword">import</span> plotly.graph_objects <span class="syntax-keyword">as</span> go
<span class="syntax-keyword">from</span> plotly.subplots <span class="syntax-keyword">import</span> make_subplots

<span class="syntax-comment"># Simular dados de produção</span>
<span class="syntax-keyword">for</span> i <span class="syntax-keyword">in</span> range(<span class="syntax-number">50</span>):
    amostra = df_features.sample(<span class="syntax-number">1</span>)
    sistema.prever(amostra)

<span class="syntax-comment"># Criar dashboard</span>
fig = make_subplots(
    rows=<span class="syntax-number">2</span>, cols=<span class="syntax-number">2</span>,
    subplot_titles=(<span class="syntax-string">'Distribuição de Probabilidades'</span>, <span class="syntax-string">'Alertas por Equipamento'</span>,
                    <span class="syntax-string">'Timeline de Predições'</span>, <span class="syntax-string">'Performance do Modelo'</span>),
    specs=[[{<span class="syntax-string">'type'</span>: <span class="syntax-string">'histogram'</span>}, {<span class="syntax-string">'type'</span>: <span class="syntax-string">'bar'</span>}],
           [{<span class="syntax-string">'type'</span>: <span class="syntax-string">'scatter'</span>}, {<span class="syntax-string">'type'</span>: <span class="syntax-string">'indicator'</span>}]]
)

<span class="syntax-comment"># Gráfico 1: Distribuição de probabilidades</span>
probabilidades = [log[<span class="syntax-string">'probabilidade_falha'</span>] <span class="syntax-keyword">for</span> log <span class="syntax-keyword">in</span> sistema.logs_predicoes]
fig.add_trace(
    go.Histogram(x=probabilidades, name=<span class="syntax-string">'Prob. Falha'</span>, nbinsx=<span class="syntax-number">20</span>),
    row=<span class="syntax-number">1</span>, col=<span class="syntax-number">1</span>
)

<span class="syntax-comment"># Gráfico 2: Alertas por equipamento</span>
from collections import Counter
alertas_por_equip = Counter([log[<span class="syntax-string">'equipamento_id'</span>] <span class="syntax-keyword">for</span> log <span class="syntax-keyword">in</span> sistema.logs_predicoes <span class="syntax-keyword">if</span> log[<span class="syntax-string">'alerta_falha'</span>]])
fig.add_trace(
    go.Bar(x=list(alertas_por_equip.keys()), y=list(alertas_por_equip.values()), name=<span class="syntax-string">'Alertas'</span>),
    row=<span class="syntax-number">1</span>, col=<span class="syntax-number">2</span>
)

<span class="syntax-comment"># Gráfico 3: Timeline</span>
timestamps = [log[<span class="syntax-string">'timestamp'</span>] <span class="syntax-keyword">for</span> log <span class="syntax-keyword">in</span> sistema.logs_predicoes]
fig.add_trace(
    go.Scatter(x=timestamps, y=probabilidades, mode=<span class="syntax-string">'lines+markers'</span>, name=<span class="syntax-string">'Timeline'</span>),
    row=<span class="syntax-number">2</span>, col=<span class="syntax-number">1</span>
)

<span class="syntax-comment"># Gráfico 4: Indicador de performance</span>
taxa_alertas = sum([log[<span class="syntax-string">'alerta_falha'</span>] <span class="syntax-keyword">for</span> log <span class="syntax-keyword">in</span> sistema.logs_predicoes]) / len(sistema.logs_predicoes) * <span class="syntax-number">100</span>
fig.add_trace(
    go.Indicator(
        mode=<span class="syntax-string">"gauge+number"</span>,
        value=taxa_alertas,
        title={<span class="syntax-string">'text'</span>: <span class="syntax-string">"Taxa de Alertas (%)"</span>},
        gauge={<span class="syntax-string">'axis'</span>: {<span class="syntax-string">'range'</span>: [<span class="syntax-number">0</span>, <span class="syntax-number">100</span>]},
               <span class="syntax-string">'bar'</span>: {<span class="syntax-string">'color'</span>: <span class="syntax-string">"darkblue"</span>},
               <span class="syntax-string">'steps'</span>: [{<span class="syntax-string">'range'</span>: [<span class="syntax-number">0</span>, <span class="syntax-number">10</span>], <span class="syntax-string">'color'</span>: <span class="syntax-string">"lightgray"</span>},
                        {<span class="syntax-string">'range'</span>: [<span class="syntax-number">10</span>, <span class="syntax-number">30</span>], <span class="syntax-string">'color'</span>: <span class="syntax-string">"yellow"</span>}],
               <span class="syntax-string">'threshold'</span>: {<span class="syntax-string">'line'</span>: {<span class="syntax-string">'color'</span>: <span class="syntax-string">"red"</span>, <span class="syntax-string">'width'</span>: <span class="syntax-number">4</span>},
                           <span class="syntax-string">'thickness'</span>: <span class="syntax-number">0.75</span>, <span class="syntax-string">'value'</span>: <span class="syntax-number">30</span>}}),
    row=<span class="syntax-number">2</span>, col=<span class="syntax-number">2</span>
)

fig.update_layout(height=<span class="syntax-number">800</span>, showlegend=<span class="syntax-number">False</span>, title_text=<span class="syntax-string">"Dashboard de Monitoramento - Sistema de Predição de Falhas"</span>)
fig.show()

<span class="syntax-function">print</span>(<span class="syntax-string">f"\nStatus do Sistema:"</span>)
<span class="syntax-function">print</span>(<span class="syntax-string">f"Total de predições: {len(sistema.logs_predicoes)}"</span>)
<span class="syntax-function">print</span>(<span class="syntax-string">f"Taxa de alertas: {taxa_alertas:.1f}%"</span>)
<span class="syntax-function">print</span>(<span class="syntax-string">f"Monitoramento de deriva: {sistema.monitorar_deriva()}"</span>)</code></pre>
            </div>
        </div>

        <div class="checkpoint-box">
            <h3>Checkpoint 4 - Entrega 28/10</h3>
            <p><strong>Projeto Final:</strong> Sistema Completo de IA para Tarefa Específica<br>
            <strong>Entregáveis:</strong></p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>Notebook com implementação completa (todas as 6 fases CRISP-DM)</li>
                <li>Sistema de predição com interface de monitoramento</li>
                <li>Documentação técnica e de negócio</li>
                <li>Apresentação executiva (15 min + 5 min Q&A)</li>
                <li>Plano de deployment e manutenção</li>
            </ul>
        </div>

        <div class="section">
            <h2><span class="step-indicator">8</span>Projeto Final da Unidade</h2>
            
            <div class="exercise-box">
                <h4>Especificações do Projeto Final</h4>
                <p><strong>Objetivo:</strong> Desenvolver um sistema completo de IA para resolver um problema específico da engenharia de produção.</p>
                
                <p><strong>Opções de Problemas:</strong></p>
                <ol style="margin-left: 20px; line-height: 1.8;">
                    <li><strong>Predição de Demanda:</strong> Prever demanda de produtos para otimizar estoque</li>
                    <li><strong>Classificação de Qualidade:</strong> Detectar produtos defeituosos automaticamente</li>
                    <li><strong>Otimização de Manutenção:</strong> Prever quando equipamentos precisam de manutenção</li>
                    <li><strong>Análise de Sentimentos:</strong> Analisar feedback de clientes para melhorar produtos</li>
                    <li><strong>Otimização de Rotas:</strong> Melhorar eficiência de logística e distribuição</li>
                    <li><strong>Problema Próprio:</strong> Definir problema específico da sua área (aprovação prévia)</li>
                </ol>
            </div>

            <div class="success-box">
                <h4>Critérios de Avaliação (100 pontos)</h4>
                <p><strong>Metodologia CRISP-DM (25 pts):</strong> Seguir todas as 6 fases adequadamente<br>
                <strong>Implementação Técnica (25 pts):</strong> Código funcional, boas práticas, otimização<br>
                <strong>Análise e Insights (20 pts):</strong> Interpretação correta dos resultados<br>
                <strong>Sistema de Produção (15 pts):</strong> Deploy, monitoramento, manutenibilidade<br>
                <strong>Documentação (10 pts):</strong> Clareza, completude, reprodutibilidade<br>
                <strong>Apresentação (5 pts):</strong> Comunicação efetiva dos resultados</p>
            </div>

            <div class="warning-box">
                <h4>Dicas para o Sucesso</h4>
                <p><strong>Comece simples:</strong> MVP funcional é melhor que sistema complexo incompleto<br>
                <strong>Foque no problema:</strong> Entenda bem o domínio antes de partir para a solução<br>
                <strong>Valide continuamente:</strong> Teste cada etapa antes de prosseguir<br>
                <strong>Documente tudo:</strong> Decisões, experimentos, resultados e aprendizados<br>
                <strong>Pense em produção:</strong> Como o sistema será usado na prática?</p>
            </div>
        </div>

        <div class="section">
            <h2>Recursos Complementares</h2>
            
            <div class="tool-info">
                <h4>Ferramentas Recomendadas</h4>
                <p><strong>Desenvolvimento:</strong> Google Colab, Jupyter Lab, VS Code<br>
                <strong>Versionamento:</strong> Git, GitHub, DVC (Data Version Control)<br>
                <strong>MLOps:</strong> MLflow, Weights & Biases, Neptune<br>
                <strong>Deploy:</strong> Streamlit, FastAPI, Flask, Heroku<br>
                <strong>Monitoramento:</strong> Evidently AI, Whylabs, Arize</p>
            </div>

            <div class="concept-box">
                <h4>Próximos Passos na Carreira</h4>
                <p>Com o domínio desta metodologia, você estará preparado para atuar como cientista de dados ou engenheiro de ML. Continue estudando: deep learning, MLOps avançado, arquiteturas de sistemas distribuídos e ética em IA.</p>
            </div>

            <div class="highlight-box">
                <h3>Resumo da Aula</h3>
                <p>Implementamos um sistema completo de IA seguindo a metodologia CRISP-DM, desde a definição do problema até o deployment e monitoramento. Aprendemos a escolher técnicas adequadas, implementar pipelines robustos e preparar modelos para produção com monitoramento contínuo.</p>
            </div>
        </div>
    </div>

    <script>
        // Definir funções no escopo global
        window.copyCode = function(codeId) {
            const codeElement = document.getElementById(codeId);
            const btnId = 'btn' + codeId.replace('code', '');
            const btnElement = document.getElementById(btnId);
            
            if (!codeElement) {
                console.error('Elemento de código não encontrado:', codeId);
                return;
            }
            
            if (!btnElement) {
                console.error('Botão não encontrado:', btnId);
                return;
            }

            // Pegar apenas o texto, sem as tags HTML
            const codeText = codeElement.innerText || codeElement.textContent;
            
            // Tentar usar a API moderna do clipboard
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(codeText).then(function() {
                    showSuccess(btnElement);
                }).catch(function(err) {
                    console.error('Erro ao copiar:', err);
                    fallbackCopyTextToClipboard(codeText, btnElement);
                });
            } else {
                // Fallback para navegadores mais antigos
                fallbackCopyTextToClipboard(codeText, btnElement);
            }
        };

        function showSuccess(btnElement) {
            const originalText = btnElement.textContent;
            btnElement.textContent = 'Copiado!';
            btnElement.classList.add('copied');
            
            setTimeout(function() {
                btnElement.textContent = originalText;
                btnElement.classList.remove('copied');
            }, 2000);
        }

        function showError(btnElement) {
            const originalText = btnElement.textContent;
            btnElement.textContent = 'Erro!';
            btnElement.style.backgroundColor = '#dc3545';
            
            setTimeout(function() {
                btnElement.textContent = originalText;
                btnElement.style.backgroundColor = '';
            }, 2000);
        }

        function fallbackCopyTextToClipboard(text, btnElement) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            textArea.style.opacity = "0";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                document.body.removeChild(textArea);
                
                if (successful) {
                    showSuccess(btnElement);
                } else {
                    throw new Error('Comando copy falhou');
                }
            } catch (err) {
                document.body.removeChild(textArea);
                console.error('Fallback: Não foi possível copiar', err);
                showError(btnElement);
            }
        }

        // Inicializar quando DOM estiver carregado
        document.addEventListener('DOMContentLoaded', function() {
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(function(btn) {
                btn.title = 'Clique para copiar o código';
            });
        });
    </script>
</body>
</html>